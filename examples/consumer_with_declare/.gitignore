consumer_with_declare
